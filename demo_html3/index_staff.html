<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å»ºç¯‰æ´¾é£SaaS - æ´¾é£ã‚¹ã‚¿ãƒƒãƒ•ç”¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar - æ´¾é£ã‚¹ã‚¿ãƒƒãƒ•å°‚ç”¨ -->
            <nav class="col-md-3 col-lg-2 d-md-block sidebar">
                <div class="position-sticky pt-3">
                    <div class="d-flex align-items-center px-3 mb-3">
                        <i class="fas fa-user-check text-success me-2"></i>
                        <span class="fw-bold text-success">æ´¾é£ã‚¹ã‚¿ãƒƒãƒ•</span>
                    </div>
                    <h5 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>ä½œæ¥­ãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>
                    </h5>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="index_staff.html">
                                <i class="fas fa-home me-2"></i>ãƒ›ãƒ¼ãƒ 
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="task_dashboard_staff.html">
                                <i class="fas fa-tasks me-2"></i>ä»Šæ—¥ã®ã‚¿ã‚¹ã‚¯
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="surveys/survey_execution_mobile.html">
                                <i class="fas fa-mobile-alt me-2"></i>ç¾åœ°èª¿æŸ»
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contact_execution.html">
                                <i class="fas fa-phone me-2"></i>é€£çµ¡æ¥­å‹™
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="report_completion.html">
                                <i class="fas fa-clipboard-check me-2"></i>å ±å‘Šæå‡º
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main content - æ´¾é£ã‚¹ã‚¿ãƒƒãƒ•å°‚ç”¨ -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="text-center pt-3 pb-2 mb-4" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 32px; border-radius: 12px;">
                    <h1 style="font-size: 32px; margin-bottom: 16px;">ğŸ‘‹ ãŠç–²ã‚Œæ§˜ã§ã™ï¼</h1>
                    <h2 style="font-size: 24px; margin-bottom: 8px;">ç”°ä¸­å¤ªéƒã•ã‚“</h2>
                    <p style="font-size: 18px; margin: 0;">
                        â° ç¾åœ¨æ™‚åˆ»ï¼š<span id="currentTime" style="font-weight: bold;"></span>
                    </p>
                </div>

                <!-- ã‚ã‹ã‚Šã‚„ã™ã„çŠ¶æ³è¡¨ç¤º -->
                <div class="row mb-4">
                    <div class="col-md-12">
                        <div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; font-size: 18px;">
                            <div class="card-body text-center py-4">
                                <h2 class="mb-3" style="font-size: 28px;">
                                    <i class="fas fa-clock me-3"></i>æ¬¡ã®ä½œæ¥­
                                </h2>
                                <h3 class="mb-2" style="font-size: 24px; font-weight: bold;">
                                    æ–°å®¿1Kç‰©ä»¶ã®ç¾åœ°èª¿æŸ»
                                </h3>
                                <p class="mb-3" style="font-size: 20px;">
                                    ğŸ“ æ±äº¬éƒ½æ–°å®¿åŒº | â° 14:30é–‹å§‹äºˆå®š
                                </p>
                                <div class="mb-3">
                                    <span style="background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; font-size: 16px;">
                                        ğŸ’§ æ°´é“è¨­å‚™ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ä»Šæ—¥ã‚„ã‚‹ã“ã¨ï¼ˆåˆ†ã‹ã‚Šã‚„ã™ã„ãƒªã‚¹ãƒˆï¼‰ -->
                <div class="row mb-4">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header" style="background: #f8f9fa; border-bottom: 3px solid #007bff;">
                                <h4 class="mb-0" style="font-size: 22px; color: #333;">
                                    ğŸ“ ä»Šæ—¥ã‚„ã‚‹ã“ã¨
                                </h4>
                            </div>
                            <div class="card-body" style="padding: 24px;">
                                <!-- å®Œäº†æ¸ˆã¿ -->
                                <div class="mb-4" style="background: #e8f5e8; border-left: 5px solid #28a745; padding: 16px; border-radius: 8px;">
                                    <h6 style="color: #155724; margin-bottom: 8px;">âœ… å®Œäº†æ¸ˆã¿</h6>
                                    <p style="margin: 0; font-size: 16px;">æ¸¯åŒºãƒ¯ãƒ³ãƒ«ãƒ¼ãƒ ç¾åœ°èª¿æŸ» â†’ 11:30ã«å®Œäº†</p>
                                    <p style="margin: 0; font-size: 16px;">Aå»ºè¨­ã¸ã®é€£çµ¡ â†’ 13:15ã«å®Œäº†</p>
                                </div>

                                <!-- æ¬¡ã«ã‚„ã‚‹ã“ã¨ -->
                                <div class="mb-4" style="background: #fff3cd; border-left: 5px solid #ffc107; padding: 20px; border-radius: 8px;">
                                    <h6 style="color: #856404; margin-bottom: 12px; font-size: 18px;">ğŸ”¥ æ¬¡ã«ã‚„ã‚‹ã“ã¨</h6>
                                    <p style="margin: 0; font-size: 20px; font-weight: bold; color: #333;">æ–°å®¿1Kç‰©ä»¶ã®ç¾åœ°èª¿æŸ»</p>
                                    <p style="margin: 4px 0 0 0; font-size: 16px; color: #666;">14:30ã€œ16:00 | æ°´é“è¨­å‚™ã‚’ãƒã‚§ãƒƒã‚¯</p>
                                </div>

                                <!-- å¾Œã§ã‚„ã‚‹ã“ã¨ -->
                                <div style="background: #d1ecf1; border-left: 5px solid #17a2b8; padding: 16px; border-radius: 8px;">
                                    <h6 style="color: #0c5460; margin-bottom: 8px;">â³ å¾Œã§ã‚„ã‚‹ã“ã¨</h6>
                                    <p style="margin: 0; font-size: 16px;">Bå·¥å‹™åº—ã¸é€£çµ¡ â†’ 17:00ã¾ã§</p>
                                    <p style="margin: 0; font-size: 16px;">å“å·æ¡ˆä»¶ã®å†™çœŸæå‡º â†’ ä»Šæ—¥ä¸­</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- å¤§ããªãƒœã‚¿ãƒ³ï¼ˆã‚ã‹ã‚Šã‚„ã™ã„æ“ä½œï¼‰ -->
                    <div class="col-md-4">
                        <div class="card" style="border: 3px solid #007bff; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
                            <div class="card-header text-center" style="background: #007bff; color: white;">
                                <h4 class="mb-0" style="font-size: 20px;">
                                    ğŸš€ ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„
                                </h4>
                            </div>
                            <div class="card-body text-center" style="padding: 32px;">
                                <button class="btn btn-success w-100 mb-4" onclick="startSurvey()" style="font-size: 24px; padding: 20px; border-radius: 12px; font-weight: bold;">
                                    ğŸ“± ç¾åœ°èª¿æŸ»ã‚’å§‹ã‚ã‚‹
                                </button>

                                <div style="border-top: 2px solid #eee; margin: 24px 0; padding-top: 20px;">
                                    <p style="margin-bottom: 16px; font-size: 16px; color: #666;">ãã®ä»–ã®ä½œæ¥­</p>
                                    <button class="btn btn-outline-primary w-100 mb-3" onclick="uploadPhoto()" style="font-size: 18px; padding: 12px;">
                                        ğŸ“· å†™çœŸã‚’é€ã‚‹
                                    </button>
                                    <button class="btn btn-outline-secondary w-100" onclick="reportCompletion()" style="font-size: 18px; padding: 12px;">
                                        âœ… å®Œäº†å ±å‘Š
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å¤§äº‹ãªé€£çµ¡ï¼ˆã‚ã‹ã‚Šã‚„ã™ãè¡¨ç¤ºï¼‰ -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-header" style="background: #fffbf0; border-bottom: 3px solid #ffc107;">
                                <h4 class="mb-0" style="font-size: 22px; color: #333;">
                                    ğŸ“¢ ä¸Šå¸ã‹ã‚‰ã®å¤§äº‹ãªé€£çµ¡
                                </h4>
                            </div>
                            <div class="card-body" style="padding: 24px;">
                                <!-- é‡è¦ãªæŒ‡ç¤º -->
                                <div class="mb-4" style="background: #fff3cd; border: 2px solid #ffc107; padding: 20px; border-radius: 12px;">
                                    <h5 style="color: #856404; margin-bottom: 12px; font-size: 20px;">âš ï¸ æ–°å®¿æ¡ˆä»¶ã§æ³¨æ„ã™ã‚‹ã“ã¨</h5>
                                    <div style="font-size: 18px; line-height: 1.6;">
                                        <p style="margin: 8px 0;"><strong>ğŸ’§ æ°´é“è¨­å‚™ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹æ™‚ï¼š</strong></p>
                                        <div style="margin-left: 20px;">
                                            <p style="margin: 4px 0;">â€¢ çµ¦æ°´ç®¡ã‹ã‚‰æ°´æ¼ã‚Œã—ã¦ã„ãªã„ã‹</p>
                                            <p style="margin: 4px 0;">â€¢ æ’æ°´ãŒã‚¹ãƒ ãƒ¼ã‚ºã«æµã‚Œã‚‹ã‹</p>
                                            <p style="margin: 4px 0;">â€¢ è›‡å£ãŒã¡ã‚ƒã‚“ã¨å‹•ãã‹</p>
                                        </div>
                                        <p style="margin: 12px 0 4px 0; font-size: 16px; color: #666;">ğŸ“ å±±ç”°èª²é•·ã‚ˆã‚Šï¼ˆ13:00ã®æŒ‡ç¤ºï¼‰</p>
                                    </div>
                                </div>

                                <!-- ãã®ä»–ã®é€£çµ¡ -->
                                <div style="background: #d1ecf1; border: 2px solid #17a2b8; padding: 20px; border-radius: 12px;">
                                    <h5 style="color: #0c5460; margin-bottom: 12px; font-size: 20px;">ğŸ“· å“å·æ¡ˆä»¶ã®å†™çœŸã«ã¤ã„ã¦</h5>
                                    <p style="font-size: 18px; margin: 8px 0; line-height: 1.6;">
                                        <strong>éƒ¨å±‹å…¨ä½“ã®å†™çœŸ</strong>ã¨<strong>å£Šã‚Œã¦ã„ã‚‹éƒ¨åˆ†ã®ã‚¢ãƒƒãƒ—å†™çœŸ</strong>ã‚’å¿…ãšæ’®ã£ã¦ãã ã•ã„ã€‚
                                    </p>
                                    <p style="margin: 12px 0 4px 0; font-size: 16px; color: #666;">ğŸ“ ä½è—¤ä¸»ä»»ã‚ˆã‚Šï¼ˆ12:30ã®æŒ‡ç¤ºï¼‰</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/app.js"></script>
    <script>
        // æ´¾é£ã‚¹ã‚¿ãƒƒãƒ•å°‚ç”¨æ©Ÿèƒ½
        function updateCurrentTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ja-JP', {
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('currentTime').textContent = timeString;
        }

        // 1ç§’ã”ã¨ã«æ™‚åˆ»æ›´æ–°
        setInterval(updateCurrentTime, 1000);
        updateCurrentTime();

        function completeTask(taskId) {
            const checkbox = document.getElementById(`task${taskId}`);
            const listItem = checkbox.closest('.list-group-item');
            const badge = listItem.querySelector('.badge');
            const taskText = listItem.querySelector('.fw-bold');

            if (checkbox.checked) {
                // ã‚¿ã‚¹ã‚¯å®Œäº†å‡¦ç†
                taskText.innerHTML = `<s>${taskText.textContent}</s>`;
                taskText.classList.add('text-muted');
                badge.className = 'badge bg-success';
                badge.textContent = 'å®Œäº†';

                // å®Œäº†æ™‚åˆ»ã‚’è¿½åŠ 
                const timeElement = listItem.querySelector('small');
                timeElement.innerHTML = `å®Œäº†æ™‚åˆ»: ${new Date().toLocaleTimeString('ja-JP', {
                    hour: '2-digit',
                    minute: '2-digit'
                })}`;
                timeElement.className = 'text-muted';

                // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’ç„¡åŠ¹åŒ–
                checkbox.disabled = true;

                // ç›£æŸ»ãƒ­ã‚°è¨˜éŒ²
                if (window.app) {
                    window.app.logAuditEvent('TASK_COMPLETED', {
                        taskId: taskId,
                        completedAt: new Date().toISOString(),
                        staffId: 'staff_001'
                    });
                }

                showToast('ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã—ã¾ã—ãŸ', 'success');
            }
        }

        function startSurvey() {
            window.location.href = 'surveys/survey_execution_mobile.html';
        }

        function uploadPhoto() {
            window.location.href = 'photo_upload_simple.html';
        }


        function reportCompletion() {
            window.location.href = 'report_completion.html';
        }

        function showToast(message, type) {
            if (window.app && window.app.showToast) {
                window.app.showToast(message, type);
            }
        }

        // æ´¾é£ã‚¹ã‚¿ãƒƒãƒ•ã®æ¨©é™åˆ¶é™ãƒã‚§ãƒƒã‚¯
        document.addEventListener('DOMContentLoaded', function() {
            // é‡‘é¡æƒ…å ±ã‚’å®Œå…¨éè¡¨ç¤º
            const priceElements = document.querySelectorAll('[data-price], .price, .cost, .profit');
            priceElements.forEach(el => el.style.display = 'none');

            // ä»–ã®æ´¾é£ã‚¹ã‚¿ãƒƒãƒ•æƒ…å ±ã‚’éè¡¨ç¤º
            const staffInfoElements = document.querySelectorAll('[data-staff-info]');
            staffInfoElements.forEach(el => el.style.display = 'none');

            // æ±ºå®šãƒ»æ‰¿èªãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤º
            const managementButtons = document.querySelectorAll('[data-management], .btn-approve, .btn-decide');
            managementButtons.forEach(el => el.style.display = 'none');
        });
    </script>

    <style>
        .timeline {
            position: relative;
            padding-left: 1.5rem;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0.5rem;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #dee2e6;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 1rem;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -0.75rem;
            top: 0.25rem;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #007bff;
        }

        .timeline-time {
            font-size: 0.875rem;
            font-weight: bold;
            color: #007bff;
        }

        .timeline-content {
            margin-top: 0.25rem;
        }

        .card {
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }

        .list-group-item {
            border-left: none;
            border-right: none;
        }

        .list-group-item:first-child {
            border-top: none;
        }

        .list-group-item:last-child {
            border-bottom: none;
        }
    </style>
</body>
</html>