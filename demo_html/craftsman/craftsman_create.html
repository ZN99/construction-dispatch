<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>職人登録 - 建築派遣SaaS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav class="col-md-3 col-lg-2 d-md-block sidebar">
                <div class="position-sticky pt-3">
                    <h5 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                        <span>メインメニュー</span>
                    </h5>
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="../index.html">
                                <i class="fas fa-tachometer-alt me-2"></i>ダッシュボード
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../projects/project_list.html">
                                <i class="fas fa-project-diagram me-2"></i>案件管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../surveys/survey_list.html">
                                <i class="fas fa-clipboard-list me-2"></i>調査管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="craftsman_list.html">
                                <i class="fas fa-users me-2"></i>職人管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../material/supplier_list.html">
                                <i class="fas fa-building me-2"></i>資材業者
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="../pricing/pricing_list.html">
                                <i class="fas fa-yen-sign me-2"></i>見積管理
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">職人登録</h1>
                    <div class="btn-toolbar mb-2 mb-md-0">
                        <div class="btn-group me-2">
                            <a href="craftsman_list.html" class="btn btn-outline-secondary">
                                <i class="fas fa-arrow-left me-1"></i>一覧に戻る
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Registration Form -->
                <div class="row">
                    <div class="col-md-8">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="fas fa-user-plus me-2"></i>基本情報
                                </h5>
                            </div>
                            <div class="card-body">
                                <form id="craftsmanCreateForm">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="lastName" class="form-label">姓 <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" id="lastName" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="firstName" class="form-label">名 <span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" id="firstName" required>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="email" class="form-label">メールアドレス <span class="text-danger">*</span></label>
                                                <input type="email" class="form-control" id="email" required>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="mb-3">
                                                <label for="phone" class="form-label">電話番号 <span class="text-danger">*</span></label>
                                                <input type="tel" class="form-control" id="phone" required>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="address" class="form-label">住所</label>
                                        <input type="text" class="form-control" id="address">
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="birthDate" class="form-label">生年月日</label>
                                                <input type="date" class="form-control" id="birthDate">
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="gender" class="form-label">性別</label>
                                                <select class="form-select" id="gender">
                                                    <option value="">選択してください</option>
                                                    <option value="male">男性</option>
                                                    <option value="female">女性</option>
                                                    <option value="other">その他</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="mb-3">
                                                <label for="emergencyContact" class="form-label">緊急連絡先</label>
                                                <input type="tel" class="form-control" id="emergencyContact">
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="card mt-4">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="fas fa-tools me-2"></i>スキル・経験
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="primarySkill" class="form-label">主要スキル <span class="text-danger">*</span></label>
                                            <select class="form-select" id="primarySkill" required>
                                                <option value="">選択してください</option>
                                                <option value="cleaning">清掃</option>
                                                <option value="plumbing">配管</option>
                                                <option value="interior">内装</option>
                                                <option value="electrical">電気</option>
                                                <option value="painting">塗装</option>
                                                <option value="carpentry">大工</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="skillLevel" class="form-label">スキルレベル <span class="text-danger">*</span></label>
                                            <select class="form-select" id="skillLevel" required>
                                                <option value="">選択してください</option>
                                                <option value="beginner">初級</option>
                                                <option value="intermediate">中級</option>
                                                <option value="advanced">上級</option>
                                                <option value="expert">専門家</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="experience" class="form-label">経験年数 <span class="text-danger">*</span></label>
                                            <select class="form-select" id="experience" required>
                                                <option value="">選択してください</option>
                                                <option value="1">1年未満</option>
                                                <option value="2">1-2年</option>
                                                <option value="3">3-5年</option>
                                                <option value="5">5-10年</option>
                                                <option value="10">10年以上</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="hourlyRate" class="form-label">時給 (円)</label>
                                            <input type="number" class="form-control" id="hourlyRate" min="0">
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="additionalSkills" class="form-label">追加スキル</label>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="skill_cleaning">
                                                <label class="form-check-label" for="skill_cleaning">清掃</label>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="skill_plumbing">
                                                <label class="form-check-label" for="skill_plumbing">配管</label>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="skill_interior">
                                                <label class="form-check-label" for="skill_interior">内装</label>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" id="skill_electrical">
                                                <label class="form-check-label" for="skill_electrical">電気</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="certifications" class="form-label">資格・認定</label>
                                    <textarea class="form-control" id="certifications" rows="3" placeholder="例：第二種電気工事士、建築物環境衛生管理技術者"></textarea>
                                </div>

                                <div class="mb-3">
                                    <label for="workHistory" class="form-label">職歴・実績</label>
                                    <textarea class="form-control" id="workHistory" rows="4" placeholder="過去の主要な職歴や実績を記入してください"></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="card mt-4">
                            <div class="card-header">
                                <h5 class="mb-0">
                                    <i class="fas fa-calendar-alt me-2"></i>勤務条件
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="availability" class="form-label">稼働可能日</label>
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="mon">
                                                        <label class="form-check-label" for="mon">月</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="tue">
                                                        <label class="form-check-label" for="tue">火</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="wed">
                                                        <label class="form-check-label" for="wed">水</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="thu">
                                                        <label class="form-check-label" for="thu">木</label>
                                                    </div>
                                                </div>
                                                <div class="col-6">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="fri">
                                                        <label class="form-check-label" for="fri">金</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="sat">
                                                        <label class="form-check-label" for="sat">土</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="sun">
                                                        <label class="form-check-label" for="sun">日</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="workingHours" class="form-label">稼働可能時間</label>
                                            <div class="row">
                                                <div class="col-6">
                                                    <label for="startTime" class="form-label small">開始</label>
                                                    <input type="time" class="form-control" id="startTime" value="09:00">
                                                </div>
                                                <div class="col-6">
                                                    <label for="endTime" class="form-label small">終了</label>
                                                    <input type="time" class="form-control" id="endTime" value="17:00">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="workArea" class="form-label">対応可能エリア</label>
                                            <select class="form-select" id="workArea">
                                                <option value="">選択してください</option>
                                                <option value="tokyo_23">東京23区</option>
                                                <option value="tokyo_west">東京都西部</option>
                                                <option value="kanagawa">神奈川県</option>
                                                <option value="saitama">埼玉県</option>
                                                <option value="chiba">千葉県</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label for="transportation" class="form-label">交通手段</label>
                                            <select class="form-select" id="transportation">
                                                <option value="">選択してください</option>
                                                <option value="car">自動車</option>
                                                <option value="motorcycle">バイク</option>
                                                <option value="bicycle">自転車</option>
                                                <option value="public">公共交通機関</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label for="notes" class="form-label">備考</label>
                                    <textarea class="form-control" id="notes" rows="3" placeholder="その他の特記事項があれば記入してください"></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="mt-4 mb-4">
                            <button type="submit" class="btn btn-primary" onclick="submitForm()">
                                <i class="fas fa-save me-2"></i>登録
                            </button>
                            <a href="craftsman_list.html" class="btn btn-secondary ms-2">
                                <i class="fas fa-times me-2"></i>キャンセル
                            </a>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">
                                <h6 class="mb-0">プロフィール写真</h6>
                            </div>
                            <div class="card-body text-center">
                                <div class="profile-photo-placeholder mb-3" style="width: 150px; height: 150px; background: #f8f9fa; border: 2px dashed #dee2e6; border-radius: 50%; margin: 0 auto; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-camera fa-2x text-muted"></i>
                                </div>
                                <button type="button" class="btn btn-outline-primary btn-sm">
                                    <i class="fas fa-upload me-1"></i>写真をアップロード
                                </button>
                                <small class="form-text text-muted d-block mt-2">
                                    JPG, PNG形式、最大5MB
                                </small>
                            </div>
                        </div>

                        <div class="card mt-3">
                            <div class="card-header">
                                <h6 class="mb-0">書類アップロード</h6>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label for="resume" class="form-label small">履歴書</label>
                                    <input type="file" class="form-control form-control-sm" id="resume" accept=".pdf,.doc,.docx">
                                </div>
                                <div class="mb-3">
                                    <label for="certFile" class="form-label small">資格証明書</label>
                                    <input type="file" class="form-control form-control-sm" id="certFile" accept=".pdf,.jpg,.png">
                                </div>
                                <div class="mb-3">
                                    <label for="idCopy" class="form-label small">身分証明書</label>
                                    <input type="file" class="form-control form-control-sm" id="idCopy" accept=".pdf,.jpg,.png">
                                </div>
                            </div>
                        </div>

                        <div class="card mt-3">
                            <div class="card-header">
                                <h6 class="mb-0">注意事項</h6>
                            </div>
                            <div class="card-body">
                                <ul class="small text-muted">
                                    <li>必須項目は必ず入力してください</li>
                                    <li>正確な情報を入力してください</li>
                                    <li>虚偽の申告が発覚した場合、登録を取り消す場合があります</li>
                                    <li>個人情報は適切に管理いたします</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/app.js"></script>
    <script>
        function submitForm() {
            // バリデーション
            const requiredFields = ['lastName', 'firstName', 'email', 'phone', 'primarySkill', 'skillLevel', 'experience'];
            let isValid = true;

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!field.value.trim()) {
                    field.classList.add('is-invalid');
                    isValid = false;
                } else {
                    field.classList.remove('is-invalid');
                }
            });

            if (!isValid) {
                alert('必須項目を入力してください');
                return;
            }

            // 送信処理のシミュレーション
            const submitBtn = event.target;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>登録中...';
            submitBtn.disabled = true;

            setTimeout(() => {
                alert('職人を登録しました');
                window.location.href = 'craftsman_list.html';
            }, 2000);
        }

        // リアルタイムバリデーション
        document.querySelectorAll('input[required], select[required]').forEach(field => {
            field.addEventListener('blur', function() {
                if (this.value.trim()) {
                    this.classList.remove('is-invalid');
                    this.classList.add('is-valid');
                } else {
                    this.classList.remove('is-valid');
                }
            });
        });

        // メールアドレス形式チェック
        document.getElementById('email').addEventListener('blur', function() {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (this.value && !emailRegex.test(this.value)) {
                this.classList.add('is-invalid');
                this.setCustomValidity('正しいメールアドレス形式で入力してください');
            } else {
                this.setCustomValidity('');
            }
        });
    </script>
</body>
</html>